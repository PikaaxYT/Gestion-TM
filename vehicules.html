<html lang="fr">
<head>
    <meta charset="UTF-8">
    <link href="styles.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <title>Liste des véhicules - Outil de gestion TM (par Pikaax)</title>
    <style>
        /* Style pour le tableau */
        table {
            width: 100%;
            border-collapse: collapse;
        }
        table, th, td {
            border: 1px solid #ddd;
        }
        th, td {
            padding: 10px;
            text-align: center;
        }
        th {
            background-color: #0000bb;
            color: #ffffff;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        tr:hover {
            background-color: #f1f1f1;
        }
        
    </style>
</head>
<body>
    <div class="header outfit-regular">
        <center><h1>Outil de gestion TM</h1></center>
    </div>
    <div class="header-menu outfit-regular">
        <center>        
            <a href="accueil.html" class="header-menu-element">Accueil</a>
            <a href="vehicules.html" class="header-menu-element">Véhicules</a>
            <a href="pannes.html" class="header-menu-element">Historique des pannes</a>
        </center>
    </div>
    <div class="outfit-regular">
        <h1>Liste des Véhicules</h1>
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Modèle</th>
                    <th>Carburant</th>
                    <th>Places</th>
                    <th>KM</th>
                    <th>État Moteur</th>
                    <th>État Intérieur</th>
                    <th>M.E.S</th>
                    <th>Garantie</th>
                    <th>CT</th>
                    <th>Révision</th>
                    <th>Argus</th>
                    <th>Statut</th>
                </tr>
            </thead>
            <tbody id="vehicules"></tbody>
        </table>
    </div>
    <script>
        // Récupération des données depuis get_data.php
        fetch("get_data.php")
        .then(response => response.json())
        .then(data => {
            let tbody = document.getElementById("vehicules");
            data.forEach(vehicule => {
                let row = `<tr>
                    <td>${vehicule.ID}</td>            <!-- Correspond à la clé 'ID' dans le PHP -->
                    <td>${vehicule.Modele}</td>       <!-- Correspond à la clé 'Modele' dans le PHP -->
                    <td>${vehicule.Carburant}</td>          <!-- Correspond à la clé 'Carburant' dans le PHP -->
                    <td>${vehicule.Places}</td>          <!-- Correspond à la clé 'Places' dans le PHP -->
                    <td>${vehicule.KM}</td>          <!-- Correspond à la clé 'KM' dans le PHP -->
                    <td>${vehicule.EtatTechnique}</td>          <!-- Correspond à la clé 'EtatTechnique' dans le PHP -->
                    <td>${vehicule.EtatInterieur}</td>          <!-- Correspond à la clé 'EtatInterieur' dans le PHP -->
                    <td>${vehicule.MES}</td>          <!-- Correspond à la clé 'MES' dans le PHP -->
                    <td>${vehicule.Garantie}</td>          <!-- Correspond à la clé 'Garantie' dans le PHP -->
                    <td>${vehicule.CT}</td>           <!-- Correspond à la clé 'CT' dans le PHP -->
                    <td>${vehicule.Revision}</td>     <!-- Correspond à la clé 'Revision' dans le PHP -->
                    <td>${vehicule.Argus}</td>          <!-- Correspond à la clé 'Argus' dans le PHP -->
                    <td>${vehicule.Statut}</td>          <!-- Correspond à la clé 'Statut' dans le PHP -->
                </tr>`;
                tbody.innerHTML += row;
            });
        })
        .catch(error => console.error("Erreur : " + error));
    </script>
</body>
</html>
